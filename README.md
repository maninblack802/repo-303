# Домашнее задание к занятию «Репликация и масштабирование. Часть 2»
---
### Задание 1
`Опишите основные преимущества использования масштабирования методами:`

`- активный master-сервер и пассивный репликационный slave-сервер;`

`- master-сервер и несколько slave-серверов;`

В первом случае мы получаем отказоустойчивость за счет наличия полной копии базы данных. Во втором случае появляется возможность распределения нагрузки и повышения доступности данных. Отказоустойчивость также улучшается.

---
### Задание 2
`Разработайте план для выполнения горизонтального и вертикального шардинга базы данных. База данных состоит из трёх таблиц: пользователи, книги, магазины (столбцы произвольно).`
`Опишите принципы построения системы и их разграничение или разбивку между базами данных. Пришлите блок-схему, где и что будет располагаться. Опишите, в каких режимах будут работать сервера.`

Вертикальный шардинг: разбиваем таблицы по столбцам.
Сначала надо проанализировать структуру таблиц и определить, какие столбцы используются в типовых запросах. Столбцы, встречающиеся в наиболее часто используемых запросах, следует хранить в одном шарде. Редко запрашиваемые столбцы можно перенести в отдельный шард.
После этого можно приступать к настройке.
![image1](https://github.com/maninblack802/repo-303/blob/main/img1.png)


Горизонтальный шардинг: разбиваем таблицы по строкам.
Сначала следует выбрать ключ шардинга. Пусть это будет id пользователя.
Потом следует определить количество шардов, исходя из количества серверов, и определить глубину шарда (количество строк в одном шарде).
После этого можно приступать к настройке.
![image2](https://github.com/maninblack802/repo-303/blob/main/img2.png)

